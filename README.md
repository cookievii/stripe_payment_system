## Платёжная система "stripe".

### Стэк технологий:

* python = 3.11
* django = 4.1.3
* stripe = 5.0.0
* psycopg2-binary = 2.9.5

---

### Описание задания

* stripe.com/docs - платёжная система с подробным API и бесплатным тестовым режимом для имитации и тестирования
  платежей.
  С помощью python библиотеки stripe можно удобно создавать платежные формы разных видов, сохранять данные клиента, и
  реализовывать прочие платежные функции.
  Мы предлагаем вам познакомиться с этой прекрасной платежной системой, реализовав простой сервер с одной html
  страничкой,
  который общается со Stripe и создает платёжные формы для товаров.
  Для решения нужно использовать Django. Решение бонусных задач даст вам возможность прокачаться и показать свои умения,
  но это не обязательно.

### Основное задание:
* Реализовать Django + Stripe API бэкенд со следующим функционалом и условиями:

* 
    * Django Модель Item с полями (name, description, price) API с двумя методами:

*
    * 
        * GET /buy/{id}, c помощью которого можно получить Stripe Session Id для оплаты выбранного Item. При выполнении
          этого метода c бэкенда с помощью python библиотеки stripe должен выполняться запрос
          stripe.checkout.Session.create(...) и полученный session.id выдаваться в результате запроса.


*
    *
        * GET /item/{id}, c помощью которого можно получить простейшую HTML страницу, на которой будет информация о
          выбранном Item и кнопка Buy. По нажатию на кнопку Buy должен происходить запрос на /buy/{id}, получение
          session_id и далее с помощью JS библиотеки Stripe происходить редирект на Checkout форму
          stripe.redirectToCheckout(sessionId=session_id)
          Пример реализации можно посмотреть в пунктах 1-3 тут
          Залить решение на Github, описать запуск в Readme.md
          Опубликовать свое решение чтобы его можно было быстро и легко протестировать.
          Решения доступные только в виде кода на Github получат низкий приоритет при проверке.

### Бонусные задачи:

* Запуск используя Docker
* Использование environment variables
* Просмотр Django Моделей в Django Admin панели
* Запуск приложения на удаленном сервере, доступном для тестирования
* Модель Order, в которой можно объединить несколько Item и сделать платёж в Stripe на содержимое Order c общей
  стоимостью всех Items
* Модели Discount, Tax, которые можно прикрепить к модели Order и связать с соответствующими атрибутами при создании
  платежа в Stripe - в таком случае они корректно отображаются в Stripe Checkout форме.
* Добавить поле Item.currency, создать 2 Stripe Keypair на две разные валюты и в зависимости от валюты выбранного товара
  предлагать оплату в соответствующей валюте
* Реализовать не Stripe Session, а Stripe Payment Intent.

----

### Локальный запуск приложения

```shell
# - Cкачайте:
git clone https://github.com/cookievii/stripe_payment_system.git

# - Переходим в директорию проекта 
cd stripe_payment_system

# - Запустите приложения в контейнерах:
docker-compose up -d --build

# - Создайте суперпользователя Django:
docker-compose exec stripe python manage.py createsuperuser
```

***

## Энтпоинты для работы:

```GET``` ```http://127.0.0.1/``` - Просмотр всех добавленных item

```GET``` ```http://127.0.0.1/item/{int}/``` - Просмотр instance item

```GET``` ```http://127.0.0.1/buy/{int}/``` - Переход на оплату

----------

### MIT License:

Copyright (c) 2022 [cookievii](https://github.com/cookievii)